@(userEditForm: Form[forms.UserEditForm.Data], user: User, config: play.api.Configuration)(implicit messages: Messages, request: RequestHeader)
@import play.api.Play
@import play.api.Play.current
@import views.html.snippets._
@main(messages("metas.default.description",messages("site.name")), Some(user)) {
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" type="text/css" />
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script>
  $( function() {
	    $( "#datepicker" ).datepicker({
	      dateFormat: "yy-mm-dd",
	      changeYear: true,
	      yearRange: "1920:2018",
	      autoSize: true,
	    });
	  } );
  </script>
<div class="subheader">
	<a class="title page-title"  href="/users/@user.userID/@{user.sluggedName}">@user.name</a>
</div>
<div class="image-and-information">
		<img class="user-image profile-image" src="@{utils.Photo.getPhotoFromUser(user, 128, 128)}"/>
		@*
	    <p>@messages("user_profile.upload.photo")</p>
        <input class="profile-photo-upload" data-user-id="@user.userID" type="file">
        *@
</div>
  @helper.form(action = controllers.routes.UsersController.usersEdited(user.userID), 'class -> "validated-form profile-edit-form") {
    @helper.CSRF.formField
    @helper.inputText(userEditForm("email"), '_label -> messages("user_profile.edit.form.email.label"), 'readonly->"readonly", 'value->userEditForm.data("email"), 'style->"color:gray", 'class -> "text-input", '_showConstraints -> false)<br/>
	@helper.inputText(userEditForm("name"), '_label -> messages("signup.form.username.label"), 'class -> "required text-input", '_showConstraints -> false)<br/>
	@helper.inputText(userEditForm("website"),'_label -> messages("user_profile.edit.form.website.label"), 'class -> "text-input form-control", '_showConstraints -> false)<br/>
	@helper.inputText(userEditForm("birthDate"),'_label -> messages("user_profile.edit.form.birth_date.label"), 'placeholder -> "yyyy-mm-dd", 'maxlength -> "10", 'id -> "datepicker", 'class -> "text-input date", '_showConstraints -> false)<br/>
    @helper.inputText(userEditForm("location"),'_label -> messages("user_profile.edit.form.location.label"), 'class -> "text-input form-control", '_showConstraints -> false)<br/>
    @helper.textarea(userEditForm("description"),'_label -> messages("user_profile.edit.form.about.label"), 'minlength -> "6", 'maxlength -> "500", 'class -> "hintable wmd-input", '_showConstraints -> false)<br/>
	@helper.checkbox(userEditForm("isSubscribed"), 'style -> "visibility: hidden;", '_label -> "", 'checked -> true, '_showConstraints -> false)<br/>
	@helper.checkbox(userEditForm("receiveAllUpdates"), 'checked -> true, '_label -> messages("user_profile.edit.form.receive_all_updates.label"),  '_showConstraints -> false)<br/>
	<input type="submit" class="post-submit big-submit submit" value="Save profile"/>&nbsp;
<a class=""  href="/users/@user.userID/@user.sluggedName">@messages("cancel_button")</a>
<div align="right"><a title="Delete User" href="/users/delete/@user.userID" class="confirmation"><i class="icon-remove-sign">DELETE USER</i></a></div>
}

	    
<script type="text/javascript">
    var elems = document.getElementsByClassName('confirmation');
    var confirmIt = function (e) {
        if (!confirm('Are you sure you want to delete this user permanently?\r\n\r\nIt cannot be undone and you will not be able to reuse the E-mail address on this site.')) e.preventDefault();
    };
    for (var i = 0, l = elems.length; i < l; i++) {
        elems[i].addEventListener('click', confirmIt, false);
    }
</script>
</div>
}
